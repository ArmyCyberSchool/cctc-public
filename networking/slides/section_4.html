<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>Traffic Manipulation</title>

		<meta name="description" content="CCTC Section 4">
		<meta name="author" content="Sarah Rees and Hakim El Hattab">

		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<link rel="stylesheet" href="css/cybbh_reveal.css">
		<link rel="stylesheet" href="css/theme/cybbh.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">
				<div class="slides">
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h2>Traffic Manipulation</h2>
					<h3>Networkingework</h3>
				</section>

				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h3>Outcomes</h3>
					<p>SKILL 10. Perform file transfer </p>
					<p>Objectives </p>
					<ul> 
					  <li><font size="6"> 10.1 Describe commom methods for transferring files  </font> </li>
					  <li><font size="6"> 10.2 Descrbie covert methods for transfering files  </font> </li>
					  <li><font size="6"> 10.3 Explain the forward files tranfers process with netcat  </font> </li>
					  <li><font size="6"> 10.4 Explain the reverese file transfer process with netcat  </font> </li>
					  <li><font size="6"> 10.5 Demostrate the process for file transfer files via terminal  </font> </li>
					</ul>
				</section>

				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
                    			<h4>Basic Files Transfer: SCP</h4>
                    			<p align="text-align: left;">(Obj. 10.1 Describe common methods for transferring files</p>
					<ul>
					  <li><font size="6">Copying "file1.txt.from the local client to a remote client.</font></li>
					  <li><font size="6">Execute From Client</font></li>
					  <li><font size="6">scp file1.txt username@10.0.0.2:/directory/path</font></li>
					  <li><font size="6">Copy "file2.txt" from a remote client to the local client </font></li>
					  <li><font size="6">Execute From CLient</font></li>
					  <li><font size="6">scp username@10.0.0.2:file2.txt/directory/path </font></li>
					</ul>
				</section>
					
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h4>Convert Channels</h4>
					<p>(Obj. 10.2 Describe covert methods for transferring files)</p>
					<p>Header modulation, Header Manipulation, Header Options</p>
					<p>Data Field</p>
					<br>
				        <p>Example: ICMP allows you to write hex to the date portions with (-p) switch </p>					
				</section>
				
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h4>Data Exfiltration</h4>
					<p>(Obj. 10.2 Describe convert methods for transferring files</p>
					<ul>
					  <li><font size="6">Covertnes (Capacity of the medium - Transmission Rate</font></li>
					  <li><font size="6">The lower transmssion rate compared to the mediume capacity, the more cover the operation is </font></li>	
					  <li><font size="6">Most common methods of data exfltrtion: HTTPS/HTTPS, DNS, FTP, RDP, SMTP/email, SMB, TOR </font></li>
					  <li><font size="6">Techniques to help obfuscat the exfiltration: Compression, Chunking, Encoding, Encryptions </font></li>
					</ul>
				</section>
				
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h4>Files Transfer Basic</h4>
					<p>(Obj. 10.1 Describe commomn methods for transfering files</p>
					<p>Stdin (channel 0) / Standou Stdout (channel 1)</p>
					<p>Pipes</p>
					<p>Fifo in nature</p>
					<p>Can live longer than the poces its faciliation</p>
					<p>Can use it for a pass-through in data transfers</p>
					<p>Client.Listerning</p>
				</section>
					
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h4>Netcat</h4>	
					<p>(Obj. 10.3 Explain the forward file transfer process with netcat</p>
					<p>(Obj. 10.4 Explain the reverse file transfer process with netcat</p>
					<p>Netcat: Cilent to Listener file transfer</p>
					<p>Client(sends file) 10.0.0.2.9001 file.txt</p>
					<p>Listener (receive file) nc-1 -p 9001 > file.txt</p>
					<p>Listener (send file file) nc-1 -p 9001 > file.txt</p>
					<p>Client (receive file) nc10.0.0.2.9001 > file.txt</p>
				</section>
					
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
					<h4>Netcat Relays</h4>
					<p>(Obj. 10.3: Explain the forward file transfer process with netcat.</p>
					<p>(Obj. 10.4: Explain the reverse file transfer process with netcat.</p>
					<p>Client (relay file mk nod mypipe p nc 10.0.0.3 9002 0 pipe | nc 10.0.0.1. 9001 | tee mypipe</p>
					<p> or </p>
					<p> nc 10.0.0.3 90020  my pipe | nc 10.0.0.1 9001 > 1 mypipe </p>
					<p> Lister2 (sends file) nc-l -p 9002 file.txt</p>
					<p> Lister1 (reeives file)nc-l p 9001 file.txt</p>
				</section>
					
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
			        	<h4> FPIPE</h4>
					<p>Obj. 12.5 Use FPIPE to perform redirector</p>
					<p>FPipe v2.1 - Port redirectors</p>
					<p>FPipe is a source port forward/redirector. It can create a TCP or UDP stream with a source porrt of your choice.<br> 
					This is useful for getting past the firwall that allow traffice with souce ports of say 23, to connect with internal servers.</p>
				    <p> Usually a client has a random high number source port, which a firewall picks off in its filter. However the firewall 
				    might let Telnet traffic throuh. FPipe can force the stream to always use a specific source port, in this case the Telnet 
				    source port. By doing this, the firewall sees the steam as an allowed service and let's the stream through.</p>
				</section>
				    
			    <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    <h4> BOTNET (Another Covert Channel)</h4>
					<p>Obj. 12.4 Explain the challenges of discovering covert channels</p>
					<p>- Master/Zombies</p>
					<p>- Used for: Spam, DDOS, Spyware, Virus, CLickfraud </p>
					<p>- Notorious Examples: Conflicker, Zeus, TDL-4 (Alureon)</p>
					<p>- Commonly used protocol for CC: HTTP, IRC, UDP, DNS over TCP</p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    <h4> Nothing to see here...Just DNS packets...</h4>    
				   	 <p> Obj. 12.6 Describe protocol swapping)</p>   
				   	 <p> DNSCAT2 is just on of many</p>
				   	 <p> Most often, common protocol are used to hid devioius actions</p>
				  	 <p> Common Botnet CC protocols are also popular choces for customer programs that provide protocols swapping</p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4> SKILL 13: Identify fundamentals of secure shell protocol</h4>
				   	    <p> Objective<br> </p>
				    	<p> 13.1 Discuss SSH tunnels</p>
				    	<p> 13.2 Discuss SSH reverse tunnels</p>
				   	    <p> 13.3 Interpret tunnel diagrams</p>
				   	    <p> 13.4 Describe the process for using SSH to connet to a remot machine</p>
				    	<p> 13.5 Explain the purpose of multi-hop tunneling</p>
				    	<p> 13.6 Explain the process for multi-hop tunneling</p>
				    	<p> 13.7 Describe the appropriate use of reverse tunnels</p>
				    	<p> 13.8 Describe basic port forwarding</p>
				   	    <p> 13.9 Set up an inital SSH tunel and add another tunnel using another toolDiscuss SSH tunnels</p>
				 </section>
				    
				 <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4> Getting Around the Pesky Firewall</h4>
				    	<p> Objective 13.3 , 4 and 8</p>
				    	<p> Imagine that you are at work, but you wanted to do - no work related activities. Your company Firewalls prevent you from accessing a website you want to browse to (gambling.com)</p>
				    	<p>SSH is allowed from the inside of the network outbound because the IT staff must do remote adminstration of devices at branch offiices.</p>
				 </section>
				     
				 <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4> Local Port Forwarding</h4>
				    	<p> Objective 13.3,4 and 8</p>
				    	<p> Picture here</p>
				 </section>
				     
				 <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4> Local Port Forwarding with IPv6</h4>
				    	<p> Objective 13.3 , 4 and 8</p>
				    	<p> The major difference with IPv6 ssh tunneling is that the colon in the IPv6 address must be understood as part of 
				    	the address field (not th colon to specify the port info) this is done by enclosing the addres in square brackets which must then be escaped with backslashes:</p>
				    	<p> ssh _l 9001:\2001:DEAD:BEEF::1\}80 user@2001:1234:1234::1</p>
					    <p>For link-local address(fe80::0 specify the interface following the GWY</p>
				    	<p>picture here</p>
				 </section>
				    
				 <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4>Tunnel within a Tunnel </h4>
				    	<p>Objective 13.3 and 9<br> </p>
				    	<p> Scenario: You have credentials for an SSH server, but it does not allow you to open a shell. How can you leverage this to move through obstacles?</p>
			        	<p> Use the -NT flag stop ssh from trying to open a terminal session<br> </p>
			        	<p> 1 . Use local port forward (on host A) to direct the SSH server (host B) to connect your local port to another host's (host C) SSH service</p>
			        	<p> Open an SSH Session to your local port, which creates an SSH tunnel to host C, through the Tunnel to host B </p>
				 </section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4> SSH Tunneling </h4>
				   	    <p> Objective 13.3 thur 9<br> </p>
				   	    <p> Someone from the Security team noticed all the SSH traffic destined to your SSH Server and blocked it in the firewall. Luckily, they can't block all SSH; you can just used a different Server. However, you don't control this server so you account won't allow you to open a terminal session. You need to SSH to your home server to SCP some files you need.</p>
				        <p>picture here </p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4>SSH Tunneling</h4>
				    	<p>Objective 13.3 thur 9</p>
				    	<p>What if access polices prevented you from getting to your Home machine from the first gateway, but you could pivot into a second SSH server, then to the Target? Try two levels of SSH tunneling (Tunnel inception)</p>
				        <p> picture here</p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4>Remote SSH Tunneling</h4>
				    	<p>Objective 13.2 thur 7</p>
				    	<p>Inside Host initiates the tunnel to tell the remote host where to forward its local ports to (through the tunnel)</p>
				    	<p>picture here</p>
				 </section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4>Remote SSH Tunneling</h4>
				    	<p>Objective 13.3 thur 7</p>
				    	<p>Inside Host initiate the tunnel to tell the remote host where to forward its locat port to (throught the tunnel)</p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				    	<h4>Remote SSH Tunneling</h4>
				     	<p>Objective 13.3 thur 7</p>
				    	<p>Inside Host initiate the tunnel to tell the remote host (HOME) where to forward its locat port to (9001) to (throught the tunnel)</p>
				    	<p>picture here</p>
				</section>
				    
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				   	    <h4>Local and Remote SSH Tunneling</h4>
				   	    <p>Objective 13.2 and 5 thur 7</p>
				    	<p>Inside initiates the tunnel to tell the remote host where to forward its local port to (through the tunnel)</p>
				    	<p>Home initates a tunnel to forward it's local port to meet up with the port of the pivot that is receiving the foward Webpage</p>
				 </section>
				    
				 <section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				   	    <h4>Dynamic Port Forwarding</h4>
				   	    <p>Objective 13.3 thur 9</p>
				   	    <p>Can be used dynamic port forwarding over an SSH tunnel: defaults to port 9050 (can be changed)</p>
				    	<p>Run TCP/IP based application on your host machine thru proxy chains: the SSH forwarding allows you to access assets from a remote (SSH Target) perspective</p>
				    	<p>You cannot access the target, but you can SSH into a compromised host who has access</p>
				</section>
				<section data-background="https://git.cybbh.space/CCTC/public/raw/master/networking/slides/resources/cybbh-skule_header.png" data-background-repeat="none" data-background-position="left top" data-background-size="100%">
				   	    <h4>Dynamic Port Forwarding</h4>
				   	    <p>Objective 13.3 thur 9</p>
					    <p>picture here</p>
				</section>
			</div>
		</div>


		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>


		<script>

			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'slide', // none/fade/slide/convex/concave/zoom

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

		</script>

	</body>
 </html>